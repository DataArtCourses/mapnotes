webpackJsonp([7],{"5FLj":function(e,t,s){"use strict";t.a={name:"chat",data:function(){return{messageBody:""}},computed:{messages:function(){return this.$store.getters.getChat}},created:function(){this.fetchData()},updated:function(){this.scrollToEnd()},watch:{$route:"fetchData"},methods:{sendMessage:function(){if(this.messageBody){var e={message_body:this.messageBody,time:Date.now(),user_id:this.$store.getters.getUserId};this.$store.dispatch("sendMessage",{message:e,chat_id:+this.$route.params.chat_id}),this.messageBody="",this.scrollToEnd()}},fetchData:function(){this.$store.dispatch("reciveChat",+this.$route.params.chat_id)},scrollToEnd:function(){var e=this;this.$nextTick(function(){var t=e.$el.querySelector("#container-chat");e.$route.params.chat_id&&(t.scrollTop=t.scrollHeight)})}}}},Gu34:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return this.$route.params.chat_id?s("el-main",{staticClass:"messenger"},[s("div",{attrs:{id:"container-chat"}},e._l(e.messages,function(t){return s("el-card",{key:"message.message_id"},[s("p",[e._v(e._s(t.message_body))]),s("small",[e._v(e._s(e._f("moment")(t.time,"from","now",!0)))])])})),s("el-footer",{staticClass:"input_message"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.messageBody,expression:"messageBody"}],attrs:{rows:"4",cols:"120"},domProps:{value:e.messageBody},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.sendMessage(t)},input:function(t){t.target.composing||(e.messageBody=t.target.value)}}}),s("button",{on:{click:e.sendMessage}},[e._v("Send")])])],1):s("el-main",[s("p",[e._v("Please choose the chat")])])},n=[],o={render:a,staticRenderFns:n};t.a=o},nqOg:function(e,t,s){var a=s("yM+y");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);s("rjj0")("2e8d6058",a,!0)},sy9F:function(e,t,s){"use strict";function a(e){s("nqOg")}Object.defineProperty(t,"__esModule",{value:!0});var n=s("5FLj"),o=s("Gu34"),r=s("VU/8"),i=a,c=r(n.a,o.a,!1,i,null,null);t.default=c.exports},"yM+y":function(e,t,s){t=e.exports=s("FZ+f")(!0),t.push([e.i,"#container-chat{height:550px;overflow-y:auto}","",{version:3,sources:["/media/iegor/data/projects/map-test/mapnotes/public/src/components/messenger/Chat.vue"],names:[],mappings:"AACA,gBACE,aAAc,AACd,eAAiB,CAClB",file:"Chat.vue",sourcesContent:["\n#container-chat {\n  height: 550px;\n  overflow-y: auto;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=7.540e8300ede70ead3dc8.js.map