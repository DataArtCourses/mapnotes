webpackJsonp([2,5,6],{"5FLj":function(e,t,s){"use strict";t.a={name:"chat",data:function(){return{message_body:""}},computed:{messages:function(){return this.$store.getters.getChat}},created:function(){this.fetchData()},updated:function(){this.scrollToEnd()},watch:{$route:"fetchData"},methods:{sendMessage:function(){if(this.message_body){var e={message_body:this.message_body,time:Date.now(),user_id:this.$store.getters.getUserId};this.$store.dispatch("sendMessage",{message:e,chat_id:+this.$route.params.chat_id}),this.message_body="",this.scrollToEnd()}},fetchData:function(){this.$store.dispatch("reciveChat",+this.$route.params.chat_id)},scrollToEnd:function(){var e=this;this.$nextTick(function(){var t=e.$el.querySelector("#container-chat");e.$route.params.chat_id&&(t.scrollTop=t.scrollHeight)})}}}},"5Wgx":function(e,t,s){"use strict";t.a={computed:{chatsList:function(){return this.$store.getters.getChats}},mounted:function(){this.$store.dispatch("reciveChats")}}},"8VdC":function(e,t,s){"use strict";var a=s("wNzW"),n=s("sy9F");t.a={name:"messenger",components:{Chats:a.default,Chat:n.default}}},Gu34:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return this.$route.params.chat_id?s("el-main",{staticClass:"messenger"},[s("div",{attrs:{id:"container-chat"}},e._l(e.messages,function(t){return s("el-card",{key:"message.message_id"},[s("p",[e._v(e._s(t.message_body))]),s("small",[e._v(e._s(e._f("moment")(t.time,"from","now",!0)))])])})),s("el-footer",{staticClass:"input_message"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message_body,expression:"message_body"}],attrs:{rows:"4",cols:"120"},domProps:{value:e.message_body},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.sendMessage(t)},input:function(t){t.target.composing||(e.message_body=t.target.value)}}}),s("button",{on:{click:e.sendMessage}},[e._v("Send")])])],1):s("el-main",[s("p",[e._v("Please choose the chat")])])},n=[],r={render:a,staticRenderFns:n};t.a=r},O2Ko:function(e,t,s){var a=s("f+CA");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);s("rjj0")("1de056f7",a,!0)},OmyR:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-container",[s("chats"),s("chat")],1)},n=[],r={render:a,staticRenderFns:n};t.a=r},"f+CA":function(e,t,s){t=e.exports=s("FZ+f")(!0),t.push([e.i,".scroll[data-v-6ab92c59]{height:650px;overflow-y:scroll}ul[data-v-6ab92c59]{list-style-type:none}.item[data-v-6ab92c59]{margin-top:10px;margin-right:40px}.item .circle[data-v-6ab92c59]{border-radius:40px}","",{version:3,sources:["/media/iegor/data/projects/map-test/mapnotes/public/src/components/messenger/Chats.vue"],names:[],mappings:"AACA,yBACE,aAAc,AACd,iBAAmB,CACpB,AACD,oBACE,oBAAsB,CACvB,AACD,uBACE,gBAAiB,AACjB,iBAAmB,CACpB,AACD,+BACI,kBAAoB,CACvB",file:"Chats.vue",sourcesContent:["\n.scroll[data-v-6ab92c59] {\n  height: 650px;\n  overflow-y: scroll;\n}\nul[data-v-6ab92c59] {\n  list-style-type: none;\n}\n.item[data-v-6ab92c59] {\n  margin-top: 10px;\n  margin-right: 40px;\n}\n.item .circle[data-v-6ab92c59] {\n    border-radius: 40px;\n}\n"],sourceRoot:""}])},k47o:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"450px"}},[s("div",{staticClass:"scroll"},[s("ul",e._l(e.chatsList,function(t){return s("li",{key:t.chatId},[s("el-badge",{staticClass:"item",attrs:{value:t.unread}},[s("img",{staticClass:"circle",attrs:{src:t.chatWith.avatarUrl,width:"80px"}}),s("router-link",{attrs:{to:"/messenger/"+t.chatId}},[s("b",[e._v(e._s(t.chatWith.userName)+" ")])]),s("br"),s("span",[e._v(e._s(t.lastMessage.body))]),s("small",[e._v(e._s(e._f("moment")(t.lastMessage.time,"from","now",!0)))])],1)],1)}))])])},n=[],r={render:a,staticRenderFns:n};t.a=r},nqOg:function(e,t,s){var a=s("yM+y");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);s("rjj0")("2e8d6058",a,!0)},sy9F:function(e,t,s){"use strict";function a(e){s("nqOg")}Object.defineProperty(t,"__esModule",{value:!0});var n=s("5FLj"),r=s("Gu34"),o=s("VU/8"),i=a,c=o(n.a,r.a,!1,i,null,null);t.default=c.exports},wNzW:function(e,t,s){"use strict";function a(e){s("O2Ko")}Object.defineProperty(t,"__esModule",{value:!0});var n=s("5Wgx"),r=s("k47o"),o=s("VU/8"),i=a,c=o(n.a,r.a,!1,i,"data-v-6ab92c59",null);t.default=c.exports},yLRl:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("8VdC"),n=s("OmyR"),r=s("VU/8"),o=r(a.a,n.a,!1,null,null,null);t.default=o.exports},"yM+y":function(e,t,s){t=e.exports=s("FZ+f")(!0),t.push([e.i,"#container-chat{height:550px;overflow-y:auto}","",{version:3,sources:["/media/iegor/data/projects/map-test/mapnotes/public/src/components/messenger/Chat.vue"],names:[],mappings:"AACA,gBACE,aAAc,AACd,eAAiB,CAClB",file:"Chat.vue",sourcesContent:["\n#container-chat {\n  height: 550px;\n  overflow-y: auto;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=2.de64ac0297e1f36ed5c1.js.map